"use strict";(self.webpackChunkhaithong_194=self.webpackChunkhaithong_194||[]).push([[6214],{8453:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>i});var t=n(6540);const s={},a=t.createContext(s);function c(e){const r=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(a.Provider,{value:r},e.children)}},8627:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>c,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"rust/axum/extractor","title":"Extractor","description":"The Path* extractor can be used as simple like this.","source":"@site/docs/rust/axum/extractor.md","sourceDirName":"rust/axum","slug":"/rust/axum/extractor","permalink":"/docs/rust/axum/extractor","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/rust/axum/extractor.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"back_pressure","permalink":"/docs/rust/axum/back_pressure"},"next":{"title":"Handler","permalink":"/docs/rust/axum/handler"}}');var s=n(4848),a=n(8453);const c={},i="Extractor",l={},o=[];function u(e){const r={a:"a",code:"code",em:"em",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"extractor",children:"Extractor"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.em,{children:"Path"})," extractor can be used as simple like this."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:"async fn hello_path(Path(name): Path<String>) -> impl IntoResponse {\r\n}\n"})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"But, how?"}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Answer 1:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Extractor actually is a data-struct."}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.em,{children:"Path(name)"})," is a destructure. Destruct a Path to get a String"]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Example:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'struct Foo {\r\n    x: u32,\r\n    y: u32,\r\n}\r\nlet faa = Foo { x: 1, y: 2 };\r\n\r\n// destruct faa -> x0, y0\r\nlet Foo { x : x0, y: y0 } = faa;\r\nprintln!("Outside: x0 = {x0:?}, y0 = {y0}");\n'})}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Answer 2:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsxs)(r.p,{children:["Extractor must implement either ",(0,s.jsx)(r.em,{children:"FromRequestParts"})," or ",(0,s.jsx)(r.em,{children:"FromRequest"})]}),"\n"]}),"\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"When handler function is executed:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-rust",children:'\r\n    async fn custom_handler(extractor_1, extractor_2, ..., last_extractor) {\r\n        //\r\n        // At this point, Path(name) is init with name=""\r\n        extractor_1.from_request_parts(request);\r\n        // At this point name="path/from/request"\r\n\r\n        extractor_2.from_request_parts(request);\r\n        ...\r\n        last_extractor.from_request(request);\r\n\r\n        //\r\n        handler_logic();\r\n\r\n        //\r\n        (into_respon_tupple).into_response()\r\n    }\r\n    \n'})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["\n",(0,s.jsx)(r.p,{children:"Reference source code:"}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.a,{href:"https://github.com/tokio-rs/axum/blob/62470bd5039c4a32b4454d0ceafbbca77c0d4874/axum/src/handler/mod.rs#L206",title:"axum/src/handler/mod.rs",children:"impl_handler "})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function d(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}}}]);